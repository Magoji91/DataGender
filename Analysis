#Import Data
data <- read.csv("C:/Users/smsanda/Downloads/data.csv", header=FALSE, sep=";")
View(data)


head(data) # Print the first few, or last few, lines of a mdm object
str(data) #check the variables / Get a summary of an object’s structure
summary(data) #Get more detailed information out a model.
dim(data) #check dimesions ( number of row & columns) in data set
ls(data) # List all variables in the environment.
table(is.na(data)) # See counts of missing values
colSums(is.na(data)) # missing value in data exploration stages.
unique(data) #See unique values.

#Subsetting data
# Select only the variables that you are interested in.

install.packages("dplyr")
library(dplyr)

#filter: the first argument is the data frame; the second argument is the condition by which we want it subsetted. The result is the entire data frame with only the rows we wanted.
#select: the first argument is the data frame; the second argument is the names of the columns we want selected from it. We don’t have to use the names() function, and we don’t even have to use quotation marks. We simply list the column names as objects.


# GENERO MASCULINO
colint <-select(filter(data, V3 == 1, V24 == 1),c(V17, V18, V19, V20, V21, V22))

# tally() is short-hand for summarise()
colint %>% tally()

# count() is a short-hand for group_by() + tally()
colint %>% count(V17, V18, V19, V20, V21, V22)
colint %>% count(V17)
colint %>% count(V18)
colint %>% count(V19)
colint %>% count(V20)
colint %>% count(V21)
colint %>% count(V22)

colint %>%
group_by (V17) %>%
summarise (n=n()) %>%
mutate(rel.freq = paste0(round(100 * n/sum(n), 0), "%")) %>%
ungroup() %>%
mutate(row.tot = sum(n))

# GENERO FEMININO
colint2 <-select(filter(data, V3 == 1, V24 == 2),c(V17, V18, V19, V20, V21, V22))

# tally() is short-hand for summarise()
colint2 %>% tally()

# count() is a short-hand for group_by() + tally()
colint2 %>% count(V17, V18, V19, V20, V21, V22)
colint2 %>% count(V17)
colint2 %>% count(V18)
colint2 %>% count(V19)
colint2 %>% count(V20)
colint2 %>% count(V21)
colint2 %>% count(V22)

colint2 %>%
group_by (V17) %>%
summarise (n=n()) %>%
mutate(rel.freq = paste0(round(100 * n/sum(n), 0), "%")) %>%
ungroup() %>%
mutate(row.tot = sum(n))

# INTERSECÇÃO
int <-select(filter(data, V3 == 1),c(V24, V17, V18, V19, V20, V21, V22))

int %>%
group_by (V24) %>%
summarise (n=n()) %>%
mutate(rel.freq = paste0(round(100 * n/sum(n), 0), "%")) %>%
ungroup() %>%
filter(!is.na(V24)) %>%
mutate(row.tot = sum(n))

int %>%
group_by (V24, V17, V18, V19, V20, V21, V22) %>%
summarise (n=n()) %>%
mutate(rel.freq = paste0(round(100 * n/sum(n), 0), "%")) %>%
ungroup() %>%
filter(!is.na(V24)) %>%
mutate(row.tot = sum(n))


gender <-int %>%
     group_by (V24, V17, V18, V19, V20, V21, V22) %>%
     summarise (n=n()) %>%
     mutate(rel.freq = paste0(round(100 * n/sum(n), 0), "%")) %>%
     ungroup() %>%
     filter(!is.na(V24)) %>%
     filter(!is.na(V17)) %>%
     filter(!is.na(V18)) %>%
     filter(!is.na(V19)) %>%
     filter(!is.na(V20)) %>%
     filter(!is.na(V21)) %>%
     filter(!is.na(V22)) %>%
     mutate(row.tot = sum(n))
summary(gender)

gender <-int %>%
     group_by (V24 = 1, V17 = 4, V18 = 3, V19 = 5, V20 = 2, V21 = 1, V22 = 3) %>%
     summarise (n=n()) %>%
     mutate(rel.freq = paste0(round(100 * n/sum(n), 0), "%")) %>%
     ungroup() %>%
     filter(!is.na(V24)) %>%
     filter(!is.na(V17)) %>%
     filter(!is.na(V18)) %>%
     filter(!is.na(V19)) %>%
     filter(!is.na(V20)) %>%
     filter(!is.na(V21)) %>%
     filter(!is.na(V22)) %>%
     mutate(row.tot = sum(n))
summary(gender)     
     
     
 
  

# REMOVE ROWS WITH MISSING DATA IN R 
x <- colint[complete.cases(colint), ]
str(x)

library(Hmisc)
Hmisc::describe(colint)

















































